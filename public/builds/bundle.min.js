!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(3),a=n(4),r=n(1),u=n.n(r),l=n(2),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(){function e(){o(this,e)}return c(e,null,[{key:"addChooseButton",value:function(){var t=new a.a("choose","photo");t.addEventListener("click",function(){filepicker.setKey(u.a.Filepicker),filepicker.pick({mimetypes:["image/png","image/jpg","image/jpeg"],services:["SKYDRIVE","COMPUTER","GOOGLE_DRIVE","DROPBOX","FLICKR","WEBCAM"],language:"en"},function(t){e.removeButtons(),e.imageMimetype=t.mimetype,document.getElementById("dropzone").style.backgroundImage="url("+t.url+")",e.addEditButton(t.url),i.a.instantiateFeather()},function(e){console.log(e),l.a.show(e.toString(),"user-message-error")})}),document.getElementById("choose-button-field").appendChild(t)}},{key:"addSaveButton",value:function(t){var n=new a.a("save"),o=document.getElementById("save-button-field");o.appendChild(n),n.addEventListener("click",function(){filepicker.exportFile(t,{suggestedFilename:"newImage",mimetype:e.imageMimetype,services:["SKYDRIVE","COMPUTER","GOOGLE_DRIVE","DROPBOX","FLICKR"],language:"en"})})}},{key:"addEditButton",value:function(e){var t=new a.a("edit"),n=document.getElementById("edit-button-field");n.appendChild(t),t.addEventListener("click",function(){i.a.launchEditor("image-preview",""+e)})}},{key:"removeButtons",value:function(){var e=document.getElementById("edit-button"),t=document.getElementById("save-button");e&&e.remove(),t&&t.remove()}}]),e}();t.a=s},function(e,t){e.exports={Aviary:"eb5f4fca52634bbf94da9389bd974012",Filepicker:"AkVUYK6e3SaOklSeSuZYTz"}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(){o(this,e)}return i(e,null,[{key:"show",value:function(e,t){var n=document.getElementById("user-message-field");n.innerHTML='\n\t\t\t<div id="'+t+'" class="user-message animated flash">\n        '+e+" "+this.getCloseButton()+"\n\t\t\t</div>\n\t\t";var o=document.getElementById("close-message-button");o.addEventListener("click",function(){document.getElementById("user-message-field").innerHTML=""})}},{key:"getCloseButton",value:function(){return'\n      <i class="material-icons"\n\t\t\t   id="close-message-button"\n\t\t\t   title="Close message"\n\t\t\t\t aria-label="Close message">\n        close\n\t\t\t</i>\n\t\t'}}]),e}();t.a=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(0),a=n(1),r=n.n(a),u=n(2),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(){function e(){o(this,e)}return l(e,null,[{key:"instantiateFeather",value:function(){var e=this;this.feather=new Aviary.Feather({apiKey:r.a.Aviary,theme:"minimum",tools:"all",appendTo:"",displayImageSize:!0,showWaitIndicator:!0,launchDelay:500,closeDelay:500,onSave:function(t,n){e.newURL=n,document.getElementById("dropzone").style.backgroundImage="url("+n+")",e.feather.close()},onClose:function(t){t&&(document.getElementById("edit-button").remove(),i.a.addEditButton(e.newURL),i.a.addSaveButton(e.newURL))},onError:function(e){u.a.show(e.message,"user-message-error")}})}},{key:"launchEditor",value:function(e,t){return this.feather.launch({image:e,url:t}),!1}}]),e}();t.a=c},function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=document.createElement("button");return n.setAttribute("class","mdl-button mdl-js-button mdl-button--fab mdl-button--primary animated bounceIn"),n.setAttribute("id",e+"-button"),n.setAttribute("title",e+" image"),n.setAttribute("aria-label",e+" image"),n.innerHTML='<i class="material-icons">'+t+"</i>",n}t.a=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);window.location.href.endsWith("editor")&&o.a.addChooseButton()}]);